/*
 * webSite: http://leotheme.cn/
 * Version: 2.8.0*/
(function(){var n="style",k="hover",i="absolute",o=".___boxDialog",m=".___boxContent",c="0",h="body",j="click",b="#",g=false,d=true,f="1",a="";$.XYTipsWindow=function(b){defaults=$.extend({___title:"Hello World",___boxID:q(10),___content:"text:内容",___width:"300",___height:"200",___titleClass:"boxTitle",___closeID:a,___triggerID:a,___boxBdColor:"#E9F3FD",___boxBdOpacity:f,___boxWrapBdColor:"#A6C9E1",___windowBgColor:"#000000",___windowBgOpacity:"0.5",___time:a,___drag:a,___dragBoxOpacity:f,___showTitle:d,___showBoxbg:d,___showbg:g,___offsets:a,___button:a,___callback:function(){},___fns:function(){}},b);$.XYTipsWindow.init(defaults)};var e,p=!-[1]&&!window.XMLHttpRequest,l=[],q=function(e){for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",b=0,c=a;b<e;b++)c+=d.charAt(Math.floor(Math.random()*62));return c};$.extend($.XYTipsWindow,{init:function(c){e=c;if($(b+c.___boxID).length>0){alert("对不起，创建弹出层失败！窗口“"+c.___boxID+"”已存在！");return g}var f=$(b+c.___boxID);$.XYTipsWindow.showBox(c);$(".___closeBox",f).die().live(j,function(){$.XYTipsWindow.removeBox()}).css({zIndex:"870618"});c.___closeID!=a&&$(b+c.___closeID,f).die().live(j,function(){$.XYTipsWindow.removeBox()});c.___time!=a&&setTimeout($.XYTipsWindow.removeBox,c.___time);if(c.___showbg!=a&&c.___showbg==d){var i='<div id="XYTipsWindowBg" style="position:absolute;background:'+c.___windowBgColor+';filter:alpha(opacity=0);opacity:0;width:100%;left:0;top:0;z-index:870618"><iframe src="about:blank" style="width=100%;height:'+$(document).height()+'px;filter:alpha(opacity=0);opacity:0;scrolling=no;z-index:870610"></iframe></div>';$(i).appendTo(h).animate({opacity:c.___windowBgOpacity},200)}c.___drag!=a&&$.XYTipsWindow.dragBox(c);c.___fns!=a&&$.isFunction(c.___fns)&&c.___fns.call(this);$.XYTipsWindow.contentBox(c);c.___button!=a&&$.XYTipsWindow.ask(c);$.XYTipsWindow.keyDown(c);$.XYTipsWindow.setBoxzIndex(c);c.___showbg!=d&&$(b+c.___boxID).addClass("shadow");$(b+c.___boxID).die().live("mouseenter",function(){e=c})},getID:function(){return thisID=e.___boxID},showBox:function(e){var M="IE6FIXED",L='<div class="',G="undefined",y="50%",n="0px",F='parent"></div>',K=".___boxBd",B="891208",g="px",C="relative",J='<div id="',u=e.___showTitle!=d?1:33,x=e.___showTitle!=d?0:10;$boxDialogHeight=e.___button!=a?45:0;$boxDialogBorder=$boxDialogHeight==c?c:f;var q=parseInt(e.___width)>1e3?1e3:parseInt(e.___width),s=parseInt(e.___height)>550?550:parseInt(e.___height),v=J+e.___boxID+'" class="XYTipsWindow">';v+='<div class="___boxWrap">';v+='<div class="___boxTitle"><h3></h3><span class="___closeBox">关闭</span></div>';v+='<div class="___boxContent"></div>';v+='<div class="___boxDialog"></div>';v+="</div>";v+='<div class="___boxBd"></div>';v+='<iframe src="about:blank" style="position:absolute;left:0;top:0;filter:alpha(opacity=0);opacity:0;scrolling=no;z-index:10714"></iframe>';v+="</div>";$(v).appendTo(h);var j=$(b+e.___boxID);j.css({position:C,width:q+12+g,height:s+u+x+$boxDialogHeight+1+g,zIndex:B});var T=$("iframe",j);T.css({width:q+12+g,height:s+u+x+$boxDialogHeight+1+g});var N=$(".___boxWrap",j);N.css({position:C,top:"5px",margin:"0 auto",width:q+2+g,height:s+u+$boxDialogHeight+1+g,overflow:"hidden",zIndex:"20590"});var R=$(m,j);R.css({position:C,width:q+g,height:s+g,padding:c,borderWidth:"1px",borderStyle:"solid",borderColor:e.___boxWrapBdColor,overflow:"auto",backgroundColor:"#fff"});var S=$(o,j);S.css({width:q+g,height:$boxDialogHeight+g,borderWidth:$boxDialogBorder+g,borderStyle:"solid",borderColor:e.___boxWrapBdColor,borderTop:"none",textAlign:"right"});var U=$(K,j);U.css({position:i,width:q+12+g,height:s+u+x+$boxDialogHeight+1+g,left:c,top:c,opacity:e.___boxBdOpacity,background:e.___boxBdColor,zIndex:"10715"});var D=$(".___boxTitle>h3",j);D.html(e.___title);D.parent().css({position:C,width:q+g,borderColor:e.___boxWrapBdColor});if(e.___titleClass!=a){D.parent().addClass(e.___titleClass);D.parent().find("span").hover(function(){$(this).addClass(k)},function(){$(this).removeClass(k)})}e.___showTitle!=d&&$(".___boxTitle",j).remove();if(e.___showBoxbg!=d){$(K,j).remove();j.css({width:q+2+g,height:s+u+$boxDialogHeight+1+g});N.css({left:c,top:c})}var w=-1;$.XYTipsWindow.getDomPosition(e);var l=e.___offsets,r=$(J+e.___boxID+F),t=p?e.___triggerID!=a?0:document.documentElement.scrollTop:a;if(e.___offsets==a||e.___offsets.constructor==String)switch(l){case"left-top":l={left:n,top:n+t};w=0;break;case"left-bottom":l={left:n,bottom:n};break;case"right-top":l={right:n,top:n+t};w=0;break;case"right-bottom":l={right:n,bottom:n};break;case"middle-top":l={left:y,marginLeft:-parseInt(j.width()/2)+g,top:n+t};w=0;break;case"middle-bottom":l={left:y,marginLeft:-parseInt(j.width()/2)+g,bottom:n};break;case"left-middle":l={left:n,top:y+t,marginTop:-parseInt(j.height()/2)+g+t};w=$getPageSize[1]/2-j.height()/2;break;case"right-middle":l={right:n,top:y+t,marginTop:-parseInt(j.height()/2)+g+t};w=$getPageSize[1]/2-j.height()/2;break;default:l={left:y,marginLeft:-parseInt(j.width()/2)+g,top:y+t,marginTop:-parseInt(j.height()/2)+g+t};w=$getPageSize[1]/2-j.height()/2}else{var E=l.top;l.top=l.top+t;if(typeof E!=G){E=E.replace(g,a);w=E}}if(e.___triggerID!=a){var O=$(b+e.___triggerID).offset(),W=$(b+e.___triggerID).outerWidth(),V=$(b+e.___triggerID).outerHeight(),H=O.left,I=O.top,z=l.left,A=l.top;if(typeof z!=G||typeof A!=G){z=parseInt(z.replace(g,a));A=parseInt(A.replace(g,a))}var P=z>=0?parseInt(z)+H:parseInt(z)+H-$getPageSize[2],Q=A>=0?parseInt(A)+I:parseInt(A)+I-$getPageSize[3];l={left:P+g,top:Q+g}}if(p)if(e.___triggerID==a){if(w>=0){$.XYTipsWindow.addStyle(".ui_fixed_"+e.___boxID+"{width:100%;height:100%;position:absolute;left:expression(documentElement.scrollLeft+documentElement.clientWidth-this.offsetWidth);top:expression(documentElement.scrollTop+"+w+")}");r=$(L+e.___boxID+'IE6FIXED" id="'+e.___boxID+F);j.appendTo(r);$(h).append(r);$("."+e.___boxID+M).css(l).css({position:i,width:q+12+g,height:s+u+x+$boxDialogHeight+1+g,zIndex:B}).addClass("ui_fixed_"+e.___boxID)}else{$.XYTipsWindow.addStyle(".ui_fixed2_"+e.___boxID+"{width:100%;height:100%;position:absolute;left:expression(documentElement.scrollLeft+documentElement.clientWidth-this.offsetWidth);top:expression(documentElement.scrollTop+documentElement.clientHeight-this.offsetHeight)}");r=$(L+e.___boxID+'IE6FIXED"  id="'+e.___boxID+F);j.appendTo(r);$(h).append(r);$("."+e.___boxID+M).css(l).css({position:i,width:q+12+g,height:s+u+x+$boxDialogHeight+1+g,zIndex:B}).addClass("ui_fixed2_"+e.___boxID)}$(h).css("background-attachment","fixed").css("background-image","url(n1othing.txt)")}else r.css({position:i,left:P+g,top:Q+g,width:q+12+g,height:s+u+x+$boxDialogHeight+1+g,zIndex:B});else{r.css(l).css({position:"fixed",width:q+12+g,height:s+u+x+$boxDialogHeight+1+g,zIndex:B});e.___triggerID!=a&&r.css({position:i});$(h).append(r);j.appendTo(r)}},contentBox:function(d){var f="<p class='boxError'>加载数据出错...</p>",e="<p class='boxLoading'>loading...</p>",l=$(b+d.___boxID),k=parseInt(d.___width)>1e3?1e3:parseInt(d.___width),j=parseInt(d.___height)>550?550:parseInt(d.___height),a=$(m,l);$contentType=d.___content.substring(0,d.___content.indexOf(":"));$content=d.___content.substring(d.___content.indexOf(":")+1,d.___content.length);$.ajaxSetup({global:g});switch($contentType){case"text":a.html($content);break;case"id":$(b+$content).children().appendTo(a);break;case"img":$.ajax({beforeSend:function(){a.html(e)},error:function(){a.html(f)},success:function(){a.html("<img src="+$content+" alt='' />")}});break;case"swf":$.ajax({beforeSend:function(){a.html(e)},error:function(){a.html(f)},success:function(){a.html("<div id='"+d.___boxID+'swf\'><h1>Alternative content</h1><p><a href="http://www.adobe.com/go/getflashplayer"><img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" /></a></p></div><script type="text/javascript" src="swfobject.js" ><\/script><script type="text/javascript">swfobject.embedSWF(\''+$content+"', '"+d.___boxID+"swf', '"+k+"', '"+j+"', '9.0.0', 'expressInstall.swf');<\/script>");$(b+d.___boxID+"swf").css({position:i,left:c,top:c,textAlign:"center"})}});break;case"url":var h=$content.split("?");$.ajax({beforeSend:function(){a.html(e)},type:h[0],url:h[1],data:h[2],error:function(){a.html("<p class='boxError'><em></em><span>加载数据出错...</span></p>")},success:function(b){a.html(b)}});break;case"iframe":a.css({overflowY:"hidden"});$.ajax({beforeSend:function(){a.html(e)},error:function(){a.html(f)},success:function(){a.html('<iframe src="'+$content+'" width="100%" height="'+parseInt(d.___height)+'px" scrolling="auto" frameborder="0" marginheight="0" marginwidth="0"></iframe>')}})}},ask:function(c){var h=$(b+c.___boxID);$boxDialog=$(o,h);if(c.___button!=a){var f={},e=[];if(c.___button instanceof Array)for(var d=0;d<c.___button.length;d++){f[c.___button[d]]=c.___button[d];e.push(c.___button[d])}else for(var g in c.___button){f[c.___button[g]]=g;e.push(c.___button[g])}$boxDialog.html($.map(e,function(a){return"<input class='dialogBtn' type='button'  value='"+a+"' />"}).join(" "));$(".dialogBtn",$boxDialog).hover(function(){$(this).addClass(k)},function(){$(this).removeClass(k)}).click(function(){var b=this;c.___callback!=a&&$.isFunction(c.___callback)&&c.___callback(f[b.value]);$.XYTipsWindow.removeBox(c)})}},getDomPosition:function(j){var a=$(b+j.___boxID),e=document.documentElement.clientWidth,d=document.documentElement.clientHeight,i=a.outerWidth(),f=a.outerHeight(),c=a.offset(),g=c.left,h=c.top;$getPageSize=[];$getPageSize.push(e,d,i,f,g,h)},setBoxzIndex:function(a){l.push(document.getElementById(a.___boxID+"parent"));var d="mousedown"||j,c=$(b+a.___boxID+"parent");c.die().live(j,function(){for(var a=0;a<l.length;a++)l[a].style.zIndex=870618;this.style.zIndex=891208})},addStyle:function(b){var a=this.style;if(!a){a=this.style=document.createElement(n);a.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(a)}a.styleSheet&&(a.styleSheet.cssText+=b)||a.appendChild(document.createTextNode(b))},dragBox:function(c){var i=0,j=0,h=g,e=$(b+c.___boxID);$Handle=$("."+c.___drag,e);$Handle.mouseover(function(){if(c.___triggerID!=a)$(this).css("cursor","default");else $(this).css("cursor","move")});$Handle.mousedown(function(l){var n="div.___boxBd",b="opacity",k="div";h=c.___triggerID!=a?g:d;if(c.___dragBoxOpacity)if(c.___boxBdOpacity!=f){e.children(k).css(b,c.___dragBoxOpacity);e.children(n).css(b,c.___boxBdOpacity)}else e.children(k).css(b,c.___dragBoxOpacity);l=window.event?window.event:l;var m=document.getElementById(c.___boxID);i=l.clientX-m.offsetLeft;j=l.clientY-m.offsetTop;$(document).mousemove(function(a){if(h){a=window.event?window.event:a;window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();var b=a.clientX-i,c=a.clientY-j;$(m).css({left:b,top:c})}});$(document).mouseup(function(){h=g;if(c.___dragBoxOpacity)if(c.___boxBdOpacity!=f){e.children(k).css(b,f);e.children(n).css(b,c.___boxBdOpacity)}else e.children(k).css(b,f)})})},removeBox:function(){var a=$(b+e.___boxID),d=$("#XYTipsWindowBg");if(a!=null||d!=null){var f=$(m,a);$contentType=e.___content.substring(0,e.___content.indexOf(":"));$content=e.___content.substring(e.___content.indexOf(":")+1,e.___content.length);if($contentType=="id"){f.children().appendTo($(b+$content));a.parent().removeAttr(n).remove();d.animate({opacity:c},500,function(){$(this).remove()})}else{a.parent().removeAttr(n).remove();d.animate({opacity:c},500,function(){$(this).remove()})}}},keyDown:function(){document.onkeydown=function(a){a=a||event;a.keyCode==27&&$.XYTipsWindow.removeBox()}}})})(jQuery);
var tips=$.XYTipsWindow;